"use strict";function Deck(e){this.slides=[],this.currentSlide={},this.currentSlideIndex=-1,this.wrapper=void 0===e?"#deck_wrapper":"#"+e}function isInteger(e){return e%1==0}Deck.prototype={constructor:Deck,setCurrentSlide:function e(l){this.currentSlide=l},setCurrentSlideIndex:function e(l){this.currentSlideIndex=l},getCurrentSlideIndex:function e(l){return this.currentSlideIndex},pushSlide:function e(l){console.log("pushSlide"),this.slides.push(l),this.currentSlideIndex++,console.log(" - this.slides.length: "+this.slides.length),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},popSlide:function e(){console.log("popSlide"),this.slides.pop(),console.log(" - this.slides.length: "+this.slides.length),this.currentSlideIndex--,console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},loadSlide:function e(l){console.log("loadSlide"),void 0===l&&(l=[]);var i="home",t="slides/",s=-1,n="slide_level_0",d=!1;0==this.slides.length&&(l.new_level=!0,d=!0),void 0!==l.new_level&&1==l.new_level?(s=this.currentSlideIndex+1,d=!0):s=this.currentSlideIndex,l.name&&(i=l.name),l.path&&(t=l.path),n="slide_level_"+s;var o=this,r;if(1==$("#"+n).length||$(this.wrapper).append("<div class='slide' id='"+n+"'></div>"),console.log(" - load_index: "+s),void 0!==l.load_reset&&!0===l.load_reset){console.log("load_reset"),l.new_level;for(var c=1;c<this.slides.length;c++)console.log(" - unloadSlide: "+c),$("#slide_level_"+c).animate({top:"1080px"},100,"linear",(function(){$(this).delay(200).empty().remove()}));this.slides=[],this.currentSlide=l,n="slide_level_"+(s=0)}$("#"+n).empty(),$("#"+n).fadeOut(10,(function(){$(this).show(),$(".slide").addClass("disabled"),$(this).load(t+i+".html",(function(e,t,s){var n=800;if("error"===t){console.log("error loading "+i+", "+s.status+" "+s.statusText),$("#slide_level_0").load("slides/home.html",(function(){$(this).animate({top:0})}));var r={name:"home",path:"slides/"};o.setCurrentSlide(r),o.pushSlide(r)}else $(this).animate({top:0}),console.log(" - load_new_level: "+d),console.log(" - _deck.currentSlideIndex: "+o.currentSlideIndex),0==o.slides.length?(console.log("no slides"),o.currentSlide=l,o.setCurrentSlideIndex(-1),o.pushSlide(l)):d?(console.log("new level slide"),o.pushSlide(l)):(console.log("replacing current slide"),o.popSlide(),o.pushSlide(l)),o.setCurrentSlide(l)}))}))},unloadSlide:function e(l){console.log("unloadSlide");var i=-1;if(-1==(i=void 0===l?this.currentSlideIndex:l))return!1;var t="slide_level_"+i;$(".slide").children().filter("video").each((function(){this.pause(),$(this).remove()})),$("#"+t).animate({top:"1080px"},100,"linear",(function(){window.setTimeout((function(){$("#"+t).empty(),$("#"+t).remove()}),200)})),this.currentSlideIndex>0&&(this.popSlide(),this.currentSlide=this.slides[this.currentSlideIndex]),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex)},printData:function e(){console.log("printData");var l=JSON.stringify(this);l+="\nthis.currentSlideIndex: "+this.currentSlideIndex,console.log(l)},checkActive:function e(){console.log("checkActive"),console.log("this.currentSlideIndex: "+this.currentSlideIndex),$(".slide").addClass("disabled"),$(".slide").removeClass("active"),$("#slide_level_"+this.currentSlideIndex).removeClass("disabled"),$("#slide_level_"+this.currentSlideIndex).addClass("active")}},window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))};
//# sourceMappingURL=deck-min.js.map