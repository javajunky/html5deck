function Deck(e){this.slides=[],this.currentSlide={},this.currentSlideIndex=-1,this.wrapper=void 0===e?"#deck_wrapper":"#"+e}function isInteger(e){return e%1===0}Deck.prototype={constructor:Deck,setCurrentSlide:function(e){this.currentSlide=e},setCurrentSlideIndex:function(e){this.currentSlideIndex=e},getCurrentSlideIndex:function(e){return this.currentSlideIndex},pushSlide:function(e){console.log("pushSlide"),this.slides.push(e),this.currentSlideIndex++,console.log(" - this.slides.length: "+this.slides.length),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},popSlide:function(){console.log("popSlide"),this.slides.pop(),console.log(" - this.slides.length: "+this.slides.length),this.currentSlideIndex--,console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},loadSlide:function(e){console.log("loadSlide"),void 0===e&&(e=[]);var l="home",i="slides/",t=-1,s="slide_level_0",n=!1;0==this.slides.length&&(e.new_level=!0,n=!0),void 0!==e.new_level&&1==e.new_level?(t=this.currentSlideIndex+1,n=!0):t=this.currentSlideIndex,e.name&&(l=e.name),e.path&&(i=e.path),s="slide_level_"+t;var d=this,o=1==$("#"+s).length;if(o||$(this.wrapper).append("<div class='slide' id='"+s+"'></div>"),console.log(" - load_index: "+t),void 0!==e.load_reset&&e.load_reset===!0){console.log("load_reset"),0==e.new_level;for(var r=1;r<this.slides.length;r++)console.log(" - unloadSlide: "+r),$("#slide_level_"+r).animate({top:"1080px"},100,"linear",function(){$(this).delay(200).empty().remove()});this.slides=[],this.currentSlide=e,t=0,s="slide_level_"+t}$("#"+s).empty(),$("#"+s).fadeOut(10,function(){$(this).show(),$(".slide").addClass("disabled"),$(this).load(i+l+".html",function(i,t,s){var o=800;if("error"===t){console.log("error loading "+l+", "+s.status+" "+s.statusText),$("#slide_level_0").load("slides/home.html",function(){$(this).animate({top:0})});var r={name:"home",path:"slides/"};d.setCurrentSlide(r),d.pushSlide(r)}else $(this).animate({top:0}),console.log(" - load_new_level: "+n),console.log(" - _deck.currentSlideIndex: "+d.currentSlideIndex),0==d.slides.length?(console.log("no slides"),d.currentSlide=e,d.setCurrentSlideIndex(-1),d.pushSlide(e)):n?(console.log("new level slide"),d.pushSlide(e)):(console.log("replacing current slide"),d.popSlide(),d.pushSlide(e)),d.setCurrentSlide(e)})})},unloadSlide:function(e){console.log("unloadSlide");var l=-1;if(l=void 0===e?this.currentSlideIndex:e,-1==l)return!1;var i="slide_level_"+l;$(".slide").children().filter("video").each(function(){this.pause(),delete this,$(this).remove()}),$("#"+i).animate({top:"1080px"},100,"linear",function(){window.setTimeout(function(){$("#"+i).empty(),$("#"+i).remove()},200)}),this.currentSlideIndex>0&&(this.popSlide(),this.currentSlide=this.slides[this.currentSlideIndex]),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex)},printData:function(){console.log("printData");var e=JSON.stringify(this);e+="\nthis.currentSlideIndex: "+this.currentSlideIndex,console.log(e)},checkActive:function(){console.log("checkActive"),console.log("this.currentSlideIndex: "+this.currentSlideIndex),$(".slide").addClass("disabled"),$(".slide").removeClass("active"),$("#slide_level_"+this.currentSlideIndex).removeClass("disabled"),$("#slide_level_"+this.currentSlideIndex).addClass("active")}},window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))};