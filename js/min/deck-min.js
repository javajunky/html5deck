"use strict";function Deck(e){this.slides=[],this.currentSlide={},this.currentSlideIndex=-1,this.wrapper=void 0===e?"#deck_wrapper":"#"+e}function isInteger(e){return e%1==0}Deck.prototype={constructor:Deck,setCurrentSlide:function e(l){this.currentSlide=l},setCurrentSlideIndex:function e(l){this.currentSlideIndex=l},getCurrentSlideIndex:function e(l){return this.currentSlideIndex},pushSlide:function e(l){console.log("pushSlide"),this.slides.push(l),this.currentSlideIndex++,console.log(" - this.slides.length: "+this.slides.length),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},popSlide:function e(){console.log("popSlide"),this.slides.pop(),console.log(" - this.slides.length: "+this.slides.length),this.currentSlideIndex--,console.log(" - this.currentSlideIndex: "+this.currentSlideIndex),this.checkActive()},loadSlide:function e(n){console.log("loadSlide"),void 0===n&&(n=[]);var d="home",l="slides/",i=-1,t="slide_level_0",o=!1;0==this.slides.length&&(n.new_level=!0,o=!0),void 0!==n.new_level&&1==n.new_level?(i=this.currentSlideIndex+1,o=!0):i=this.currentSlideIndex,n.name&&(d=n.name),n.path&&(l=n.path),t="slide_level_"+i;var r=this,s;if(1==$("#"+t).length||$(this.wrapper).append("<div class='slide' id='"+t+"'></div>"),console.log(" - load_index: "+i),void 0!==n.load_reset&&!0===n.load_reset){console.log("load_reset"),n.new_level;for(var c=1;c<this.slides.length;c++)console.log(" - unloadSlide: "+c),$("#slide_level_"+c).animate({top:"1080px"},100,"linear",function(){$(this).delay(200).empty().remove()});this.slides=[],this.currentSlide=n,t="slide_level_"+(i=0)}$("#"+t).empty(),$("#"+t).fadeOut(10,function(){$(this).show(),$(".slide").addClass("disabled"),$(this).load(l+d+".html",function(e,l,i){var t=800;if("error"===l){console.log("error loading "+d+", "+i.status+" "+i.statusText),$("#slide_level_0").load("slides/home.html",function(){$(this).animate({top:0})});var s={name:"home",path:"slides/"};r.setCurrentSlide(s),r.pushSlide(s)}else $(this).animate({top:0}),console.log(" - load_new_level: "+o),console.log(" - _deck.currentSlideIndex: "+r.currentSlideIndex),0==r.slides.length?(console.log("no slides"),r.currentSlide=n,r.setCurrentSlideIndex(-1)):o?console.log("new level slide"):(console.log("replacing current slide"),r.popSlide()),r.pushSlide(n),r.setCurrentSlide(n)})})},unloadSlide:function e(l){console.log("unloadSlide");var i=-1;if(-1==(i=void 0===l?this.currentSlideIndex:l))return!1;var t="slide_level_"+i;$(".slide").children().filter("video").each(function(){this.pause(),$(this).remove()}),$("#"+t).animate({top:"1080px"},100,"linear",function(){window.setTimeout(function(){$("#"+t).empty(),$("#"+t).remove()},200)}),0<this.currentSlideIndex&&(this.popSlide(),this.currentSlide=this.slides[this.currentSlideIndex]),console.log(" - this.currentSlideIndex: "+this.currentSlideIndex)},printData:function e(){console.log("printData");var l=JSON.stringify(this);l+="\nthis.currentSlideIndex: "+this.currentSlideIndex,console.log(l)},checkActive:function e(){console.log("checkActive"),console.log("this.currentSlideIndex: "+this.currentSlideIndex),$(".slide").addClass("disabled"),$(".slide").removeClass("active"),$("#slide_level_"+this.currentSlideIndex).removeClass("disabled"),$("#slide_level_"+this.currentSlideIndex).addClass("active")}},window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))};
//# sourceMappingURL=deck-min.js.map